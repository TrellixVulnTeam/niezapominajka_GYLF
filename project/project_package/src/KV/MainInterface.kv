#: include KV/Settings.kv
#: include KV/UserScreen.kv
#: include KV/MainScreen.kv
#: include KV/DayScreen.kv
#: include KV/PlantScreen.kv
#: include KV/MyPlantsScreen.kv
#: include KV/SpeciesCatalogScreen.kv
#: include KV/SpeciesScreen.kv
#: include KV/LoginDialog.kv
#: include KV/SignUpDialog.kv
#: include KV/SpeciesProfileDialog.kv
#: include KV/PlantProfileDialog.kv
#: include KV/WelcomeScreen.kv
#: include KV/CreateAccountScreen.kv


<ItemDrawer>:
    IconLeftWidget:
        id: icon
        icon: root.icon
        text_color: root.text_color


<MyScreenManager>:
    Screen:
        MDToolbar:
            id: toolbar
            pos_hint: {"top": 1}
            title: "Start"
            elevation: 8
            left_action_items: [["menu", lambda x: nav_drawer.set_state("open") if (app.user.nickname != "") else nav_drawer.set_state("close")]]


        MDNavigationLayout:
            ScreenManager:
                id: screen_manager

                WelcomeScreen:
                    name: "WelcomeScreen"
                    id: welcome_screen

                CreateAccountScreen:
                    name: "CreateAccountScreen"
                    id: create_account_screen

                MainScreen:
                    name: "MainScreen"
                    id: main_screen

                DayScreen:
                    name: "DayScreen"
                    id: day_screen

                SettingsScreen:
                    name: "SettingsScreen"
                    id: settings_screen

                UserScreen:
                    name: "UserScreen"
                    id: user_screen

                MyPlantsScreen:
                    name: "MyPlantsScreen"
                    id: my_plants_screen

                SpeciesScreen:
                    name: "SpeciesScreen"
                    id: species_screen


                SpeciesCatalogScreen:
                    name: "SpeciesCatalogScreen"
                    id: species_catalog_screen


            MDNavigationDrawer:
                id: nav_drawer
                swipe_edge_width: 0
                elevation: 0
                ScrollView:
                    MDList:
                        ItemDrawer:
                            icon: "calendar-blank"
                            text: "Start"
                            on_press:
                                app.change_screen("MainScreen", "Start")
                                nav_drawer.set_state("close")
                        ItemDrawer:
                            icon: "face"
                            text: "Your profile"
                            on_press:
                                app.change_screen("UserScreen", "Profil")
                                nav_drawer.set_state("close")
                        ItemDrawer:
                            icon: "flower-tulip"
                            text: "My plants"
                            on_press:
                                app.change_screen("MyPlantsScreen", "Moje roślinki")
                                nav_drawer.set_state("close")

                        ItemDrawer:
                            icon: "flower-tulip-outline"
                            text: "Plants catalog"
                            on_press:
                                app.change_screen("SpeciesCatalogScreen", "Gatunki roślinek")
                                nav_drawer.set_state("close")

                        ItemDrawer:
                            icon: "tools"
                            text: "Settings"
                            on_press:
                                app.change_screen("SettingsScreen", "Ustawienia")
                                nav_drawer.set_state("close")